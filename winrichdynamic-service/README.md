# WinRich Dynamic Service

р╕гр╕░р╕Ър╕Ър╕Ър╕гр╕┤р╕Бр╕▓р╕гр╣Ар╕кр╕гр╕┤р╕бр╕кр╕│р╕лр╕гр╕▒р╕Ъ WinRich Site р╕Чр╕╡р╣Ир╕гр╕зр╕бр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Шр╕╕р╕гр╕Бр╕┤р╕Ир╕Вр╕▒р╣Йр╕Щр╕кр╕╣р╕З

## ЁЯОп р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕лр╕ер╕▒р╕Б

### ЁЯТ╝ р╕гр╕░р╕Ър╕Ъ B2B (Business-to-Business)
- **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ер╕╣р╕Бр╕Др╣Йр╕▓ B2B** - р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕кр╕Цр╕▓р╕Ър╕▒р╕Щ
- **р╕гр╕░р╕Ър╕Ър╣Гр╕Ър╣Ар╕кр╕Щр╕нр╕гр╕▓р╕Др╕▓** - р╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╕░р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Гр╕Ър╣Ар╕кр╕Щр╕нр╕гр╕▓р╕Др╕▓
- **р╕гр╕░р╕Ър╕Ър╕кр╣Ир╕зр╕Щр╕ер╕Ф** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╣Ир╕зр╕Щр╕ер╕Фр╕кр╕│р╕лр╕гр╕▒р╕Ър╕ер╕╣р╕Бр╕Др╣Йр╕▓ B2B
- **р╕гр╕░р╕Ър╕Ър╕Хр╕┤р╕Фр╕Хр╕▓р╕б KPI** - р╕зр╕▒р╕Фр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╕Вр╕▓р╕в

### ЁЯдЦ р╕гр╕░р╕Ър╕Ъ LINE Bot
- **р╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤** - р╕Хр╕нр╕Ър╕Др╕│р╕Цр╕▓р╕бр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- **р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щ** - р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕кр╕Цр╕▓р╕Щр╕░р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
- **р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н** - р╕Фр╕╣р╣Бр╕ер╕░р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕Ьр╣Ир╕▓р╕Щ LINE

### ЁЯУК р╕гр╕░р╕Ър╕Ъ WMS (Warehouse Management System)
- **р╕Бр╕▓р╕гр╕Лр╕┤р╕Зр╕Др╣Мр╕Вр╣Йр╕нр╕бр╕╣р╕е** - р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕Др╕ер╕▒р╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓
- **р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Др╕Зр╕Др╕ер╕▒р╕З** - р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Щр╕Др╕ер╕▒р╕З
- **р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕З** - р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓

### ЁЯУД р╕гр╕░р╕Ър╕Ъ PDF Generator
- **р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ър╣Ар╕кр╕Щр╕нр╕гр╕▓р╕Др╕▓** - р╕кр╕гр╣Йр╕▓р╕З PDF р╣Гр╕Ър╣Ар╕кр╕Щр╕нр╕гр╕▓р╕Др╕▓
- **р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕Ър╣Бр╕Ир╣Йр╕Зр╕лр╕Щр╕╡р╣Й** - р╕кр╕гр╣Йр╕▓р╕З PDF р╣Гр╕Ър╣Бр╕Ир╣Йр╕Зр╕лр╕Щр╕╡р╣Й
- **р╕кр╕гр╣Йр╕▓р╕Зр╕гр╕▓р╕вр╕Зр╕▓р╕Щ** - р╕кр╕гр╣Йр╕▓р╕Зр╕гр╕▓р╕вр╕Зр╕▓р╕Щр╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ PDF

### ЁЯзо р╕гр╕░р╕Ър╕Ър╕Др╕│р╕Щр╕зр╕Ур╕ар╕▓р╕йр╕╡
- **р╕Др╕│р╕Щр╕зр╕Ур╕ар╕▓р╕йр╕╡р╕бр╕╣р╕ер╕Др╣Ир╕▓р╣Ар╕Юр╕┤р╣Ир╕б** - р╕Др╕│р╕Щр╕зр╕У VAT р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- **р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ар╕▓р╕йр╕╡** - р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕ар╕▓р╕йр╕╡р╕лр╕ер╕▓р╕вр╕Ыр╕гр╕░р╣Ар╕ар╕Ч

## ЁЯЪА р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

### р╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ
- Node.js 18 р╕лр╕гр╕╖р╕нр╕кр╕╣р╕Зр╕Бр╕зр╣Ир╕▓
- MongoDB
- LINE Bot SDK
- Puppeteer (р╕кр╕│р╕лр╕гр╕▒р╕Ъ PDF Generation)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

1. **р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М**
```bash
cd winrichdynamic-service
```

2. **р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Dependencies**
```bash
npm install
```

3. **р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕кр╕ар╕▓р╕Юр╣Бр╕зр╕Фр╕ер╣Йр╕нр╕б**
```bash
cp env.example .env
```

4. **р╕гр╕▒р╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╣Зр╕Б**
```bash
npm run dev
```

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╣Зр╕Б

```
src/
тФЬтФАтФА app/                    # Next.js App Router
тФВ   тФЬтФАтФА adminb2b/          # р╕лр╕Щр╣Йр╕▓р╕Ир╕▒р╕Фр╕Бр╕▓р╕г B2B
тФВ   тФЬтФАтФА wholesale/         # р╕лр╕Щр╣Йр╕▓р╕Вр╕▓р╕вр╕кр╣Ир╕З
тФВ   тФФтФАтФА api/               # API Routes
тФЬтФАтФА components/            # React Components
тФВ   тФЬтФАтФА ui/               # UI Components
тФВ   тФЬтФАтФА wholesale/        # Components р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╕▓р╕вр╕кр╣Ир╕З
тФВ   тФФтФАтФА ...
тФЬтФАтФА services/             # Business Logic Services
тФВ   тФЬтФАтФА discount-engine/  # р╕гр╕░р╕Ър╕Ър╕кр╣Ир╕зр╕Щр╕ер╕Ф
тФВ   тФЬтФАтФА kpi-calculator/   # р╕Др╕│р╕Щр╕зр╕У KPI
тФВ   тФЬтФАтФА line-bot/         # LINE Bot Service
тФВ   тФЬтФАтФА pdf-generator/    # р╕кр╕гр╣Йр╕▓р╕З PDF
тФВ   тФЬтФАтФА tax-lookup/       # р╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ар╕▓р╕йр╕╡
тФВ   тФФтФАтФА wms-sync/         # р╕Лр╕┤р╕Зр╕Др╣Мр╕Вр╣Йр╕нр╕бр╕╣р╕е WMS
тФЬтФАтФА models/               # MongoDB Models
тФЬтФАтФА schemas/              # Zod Validation Schemas
тФФтФАтФА utils/                # Helper Functions
```

## ЁЯФз р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕╡р╣Ир╕бр╕╡р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М

```bash
# р╕гр╕▒р╕Щр╣Гр╕Щр╣Вр╕лр╕бр╕Ф Development
npm run dev

# Build р╕кр╕│р╕лр╕гр╕▒р╕Ъ Production
npm run build

# р╕гр╕▒р╕Щр╣Гр╕Щр╣Вр╕лр╕бр╕Ф Production
npm start

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Code Quality
npm run lint
```

## ЁЯФЧ р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н

### LINE Bot
- р╣Гр╕Кр╣Й LINE Bot SDK р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г Webhook
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Бр╕Ър╕Ъ Real-time

### WMS Integration
- р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕Др╕ер╕▒р╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕ар╕▓р╕вр╕Щр╕нр╕Б
- р╕Лр╕┤р╕Зр╕Др╣Мр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Др╕Зр╕Др╕ер╕▒р╕З
- р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕кр╣Ир╕З

### PDF Generation
- р╣Гр╕Кр╣Й Puppeteer р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕З PDF
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Хр╕Чр╕╡р╣Ир╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╣Др╕Фр╣Й
- р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Бр╕Ър╕Ъ Batch

## ЁЯФТ р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

- р╕Бр╕▓р╕гр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Хр╕▒р╕зр╕Хр╕Щр╕Фр╣Йр╕зр╕в JWT
- р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕│р╕Др╕▒р╕Н
- р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Хр╕▓р╕бр╕Ър╕Чр╕Ър╕▓р╕Ч
- р╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕нр╕Щр╕╕р╕Нр╕▓р╕Х

## ЁЯУК р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю

- р╕гр╕░р╕Ър╕Ъ KPI р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Вр╕▓р╕в
- р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Юр╕др╕Хр╕┤р╕Бр╕гр╕гр╕бр╕ер╕╣р╕Бр╕Др╣Йр╕▓
- р╕гр╕▓р╕вр╕Зр╕▓р╕Щр╕Бр╕▓р╕гр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕Вр╣Йр╕нр╕бр╕╣р╕е
- р╕Бр╕▓р╕гр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╣Ар╕бр╕╖р╣Ир╕нр╕Цр╕╢р╕Зр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в

## ЁЯМР р╕Бр╕▓р╕г Deploy

### Railway
р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕г Deploy р╕Ър╕Щ Railway р╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

### Environment Variables
р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Гр╕лр╣Йр╣Бр╕Щр╣Ир╣Гр╕Ир╕зр╣Ир╕▓р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Хр╕▒р╕зр╣Бр╕Ыр╕гр╕кр╕ар╕▓р╕Юр╣Бр╕зр╕Фр╕ер╣Йр╕нр╕бр╕Чр╕╡р╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

## ЁЯУЮ р╕Бр╕▓р╕гр╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щ

р╕лр╕▓р╕Бр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕гр╕╖р╕нр╕Др╕│р╕Цр╕▓р╕б р╕Бр╕гр╕╕р╕Ур╕▓р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Чр╕╡р╕бр╕Юр╕▒р╕Тр╕Щр╕▓

## ЁЯУД License

ISC License

---

**р╕Юр╕▒р╕Тр╕Щр╕▓р╣Вр╕Фр╕в WinRich Team** ЁЯЪА
