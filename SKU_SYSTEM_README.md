# ระบบการตั้งค่า SKU สำหรับสินค้า

## ภาพรวม
ระบบ SKU ที่สร้างขึ้นใหม่นี้ช่วยให้แอดมินสามารถจัดการ SKU (Stock Keeping Unit) สำหรับสินค้าได้อย่างมีประสิทธิภาพ โดยแยก SKU ตามตัวเลือกและหน่วยของสินค้า

## คุณสมบัติหลัก

### 1. การตั้งค่า SKU แบบอัตโนมัติ
- **ตัวอักษรนำหน้า**: แอดมินสามารถกำหนดตัวอักษรนำหน้า SKU ได้ (เช่น PROD, ITEM)
- **ตัวคั่น**: สามารถเลือกตัวคั่นระหว่างส่วนประกอบของ SKU ได้ (เช่น -, _, /)
- **การสร้างอัตโนมัติ**: ระบบจะสร้าง SKU อัตโนมัติจากตัวเลือกและหน่วยของสินค้า

### 2. การตั้งค่า SKU แบบกำหนดเอง
- แอดมินสามารถกำหนด SKU เองได้หากไม่ต้องการใช้ระบบอัตโนมัติ

### 3. การจัดการ SKU Variants
- แยก SKU ตามหน่วยสินค้า (เช่น กล่อง, ชิ้น, เมตร)
- แยก SKU ตามตัวเลือกสินค้า (เช่น สี, ขนาด, วัสดุ)
- สามารถเปิด/ปิดการใช้งาน SKU แต่ละตัวได้

## วิธีการใช้งาน

### การสร้าง SKU ใหม่
1. เข้าไปที่หน้า `/admin/products`
2. กดปุ่ม "เพิ่มสินค้าใหม่" หรือ "แก้ไข" สินค้าที่มีอยู่
3. ในฟอร์มสินค้า ให้เลื่อนลงไปที่ส่วน "การตั้งค่า SKU"
4. กดปุ่ม "เปิดการตั้งค่า"
5. กรอกข้อมูล:
   - **ตัวอักษรนำหน้า SKU**: เช่น PROD, ITEM
   - **ตัวคั่น**: เช่น -, _, /
   - **วิธีการสร้าง SKU**: เลือกระหว่าง "สร้างอัตโนมัติ" หรือ "ระบุ SKU เอง"

### การสร้าง SKU อัตโนมัติ
1. เลือก "สร้างอัตโนมัติจากตัวเลือกและหน่วย"
2. เพิ่มหน่วยสินค้าและตัวเลือกสินค้าในฟอร์ม
3. กดปุ่ม "สร้าง SKU อัตโนมัติ" เพื่อสร้าง SKU ทุก variants
4. ตรวจสอบและแก้ไข SKU ที่สร้างขึ้นตามต้องการ
5. เปิด/ปิดการใช้งาน SKU แต่ละตัวด้วย checkbox

### ตัวอย่าง SKU ที่สร้างขึ้น
- **สินค้า**: เสื้อยืด
- **ตัวเลือก**: สี (แดง, น้ำเงิน), ขนาด (S, M, L)
- **หน่วย**: ตัว
- **ตัวอักษรนำหน้า**: SHIRT
- **ตัวคั่น**: -

ผลลัพธ์ SKU:
- SHIRT-แดง-S-ตัว
- SHIRT-แดง-M-ตัว
- SHIRT-แดง-L-ตัว
- SHIRT-น้ำเงิน-S-ตัว
- SHIRT-น้ำเงิน-M-ตัว
- SHIRT-น้ำเงิน-L-ตัว

## การแสดงผลในหน้าแอดมิน

### การ์ดสินค้า
- แสดงสถานะ SKU (มี/ไม่มี)
- แสดงประเภท SKU (อัตโนมัติ/กำหนดเอง)
- แสดงตัวอย่าง SKU variants (สูงสุด 3 ตัว)
- แสดงจำนวน variants ทั้งหมด

### ฟอร์มแก้ไขสินค้า
- ส่วนการตั้งค่า SKU ที่แยกออกมาต่างหาก
- ตารางแสดง SKU variants ทั้งหมด
- ปุ่มสำหรับรีเฟรชรายการและสร้าง SKU อัตโนมัติ
- การแก้ไข SKU แต่ละตัวแบบ real-time

## โครงสร้างข้อมูล

### SKU Configuration
```typescript
skuConfig: {
  prefix: string;           // ตัวอักษรนำหน้า
  separator: string;        // ตัวคั่น
  autoGenerate: boolean;    // สร้างอัตโนมัติหรือไม่
  customSku?: string;       // SKU ที่กำหนดเอง
}
```

### SKU Variants
```typescript
skuVariants: [{
  key: string;              // คีย์เฉพาะสำหรับ variant
  unitLabel?: string;       // ชื่อหน่วย
  options: Record<string, string>; // ตัวเลือกสินค้า
  sku: string;              // SKU ที่สร้างขึ้น
  isActive: boolean;        // สถานะการใช้งาน
}]
```

## ประโยชน์ของระบบ

### สำหรับแอดมิน
- **ง่ายต่อการจัดการ**: ไม่ต้องสร้าง SKU เองทุกครั้ง
- **ความสม่ำเสมอ**: SKU มีรูปแบบเดียวกันทั้งระบบ
- **การติดตาม**: สามารถติดตามสินค้าแต่ละ variant ได้แม่นยำ

### สำหรับระบบ
- **การค้นหา**: สามารถค้นหาสินค้าจาก SKU ได้
- **การจัดการสต็อก**: เชื่อมโยงกับระบบ WMS ได้
- **การรายงาน**: สร้างรายงานตาม SKU ได้

## การเชื่อมโยงกับระบบอื่น

### WMS System
- SKU สามารถเชื่อมโยงกับ Product Code ในระบบ WMS ได้
- ช่วยในการจัดการสต็อกและการจัดส่ง

### Order Management
- สามารถใช้ SKU ในการระบุสินค้าในคำสั่งซื้อ
- ลดความผิดพลาดในการระบุสินค้า

### Inventory Tracking
- ติดตามสต็อกสินค้าแต่ละ variant ได้แม่นยำ
- สร้างรายงานการเคลื่อนไหวของสินค้าได้

## ข้อควรระวัง

1. **ความยาว SKU**: ควรไม่เกิน 50 ตัวอักษรเพื่อความเหมาะสม
2. **ความซ้ำซ้อน**: ตรวจสอบว่า SKU ไม่ซ้ำกันในระบบ
3. **การเปลี่ยนแปลง**: การเปลี่ยนแปลง SKU อาจส่งผลต่อข้อมูลที่มีอยู่

## การพัฒนาต่อ

### ฟีเจอร์ที่อาจเพิ่มในอนาคต
- การตรวจสอบความซ้ำซ้อนของ SKU อัตโนมัติ
- การนำเข้า/ส่งออก SKU ผ่านไฟล์ Excel
- การสร้าง QR Code สำหรับ SKU
- การเชื่อมโยงกับระบบ Barcode
- การสร้างรายงานการใช้งาน SKU

## การแก้ไขปัญหา

### ปัญหาที่พบบ่อย
1. **SKU ไม่สร้างอัตโนมัติ**: ตรวจสอบว่ามีหน่วยและตัวเลือกสินค้าหรือไม่
2. **SKU ซ้ำกัน**: ตรวจสอบการตั้งค่าและแก้ไขตามความเหมาะสม
3. **การแสดงผลผิด**: รีเฟรชหน้าเว็บและตรวจสอบข้อมูลในฐานข้อมูล

### การติดต่อผู้ดูแลระบบ
หากพบปัญหาหรือต้องการความช่วยเหลือ กรุณาติดต่อทีมพัฒนา
