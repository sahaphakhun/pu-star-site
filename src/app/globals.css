@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  --primary: #223f81;
  --accent: #f39921;
  /* Mobile-first spacing */
  --spacing-mobile: 0.75rem;
  --spacing-tablet: 1rem;
  --spacing-desktop: 1.5rem;
  /* Mobile-friendly touch targets */
  --touch-target-min: 44px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #ffffff;
    --foreground: #171717;
    --primary: #223f81;
    --accent: #f39921;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: 'Prompt', Arial, Helvetica, sans-serif;
  /* เพิ่ม smooth scrolling สำหรับมือถือ */
  scroll-behavior: smooth;
  /* ปรับ text rendering สำหรับหน้าจอมือถือ */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Hide scrollbar for category buttons */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Mobile-first utilities */
.touch-friendly {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}

/* Mobile-optimized animations */
@media (prefers-reduced-motion: no-preference) {
  .animate-mobile-bounce {
    animation: mobile-bounce 1s infinite;
  }
  
  @keyframes mobile-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
}

/* Ensure minimum touch targets on mobile */
@media (max-width: 640px) {
  button, input[type="button"], input[type="submit"], .clickable {
    min-height: 44px;
    min-width: 44px;
  }
}

/* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์บนมือถือแอนดรอยด์ */
@media (max-width: 768px) {
  /* ปรับ input fields ให้ทำงานได้ดีบนมือถือ */
  input[type="text"],
  input[type="tel"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  textarea,
  select {
    /* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์บนแอนดรอยด์ */
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    
    /* ปรับขนาด touch target */
    min-height: 44px;
    min-width: 44px;
    
    /* แก้ไขปัญหาการ zoom บน iOS */
    font-size: 16px;
    
    /* ปรับ touch behavior */
    touch-action: manipulation;
    
    /* แก้ไขปัญหาการไม่ focus บนแอนดรอยด์ */
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: text;
    -khtml-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
    
    /* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์ */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    
    /* ปรับ input mode สำหรับมือถือ */
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }
  
  /* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์สำหรับ input ที่มี disabled state */
  input:not([disabled]):focus,
  textarea:not([disabled]):focus,
  select:not([disabled]):focus {
    /* บังคับให้ input field รับ focus */
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(34, 63, 129, 0.1);
    
    /* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์บนแอนดรอยด์ */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  /* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์สำหรับ input ที่ถูกแตะ */
  input:not([disabled]):active,
  textarea:not([disabled]):active,
  select:not([disabled]):active {
    /* บังคับให้ input field เปิดแป้นพิมพ์ */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  /* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์สำหรับ input ที่มี touch event */
  input:not([disabled]):hover,
  textarea:not([disabled]):hover,
  select:not([disabled]):hover {
    /* ปรับ cursor และ touch behavior */
    cursor: text;
    touch-action: manipulation;
  }
}

/* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์บนแอนดรอยด์โดยเฉพาะ */
@media (max-width: 768px) and (pointer: coarse) {
  /* สำหรับอุปกรณ์ที่มี touch screen */
  input[type="text"],
  input[type="tel"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  textarea,
  select {
    /* บังคับให้ input field เปิดแป้นพิมพ์เมื่อถูกแตะ */
    -webkit-user-modify: read-write-plaintext-only;
    -moz-user-modify: read-write;
    -ms-user-modify: read-write;
    user-modify: read-write;
    
    /* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์บนแอนดรอยด์ */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    
    /* ปรับ touch behavior */
    touch-action: manipulation;
    
    /* แก้ไขปัญหาการไม่ focus บนแอนดรอยด์ */
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  }
  
  /* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์เมื่อ input field ถูกแตะ */
  input:not([disabled]):focus,
  textarea:not([disabled]):focus,
  select:not([disabled]):focus {
    /* บังคับให้ input field เปิดแป้นพิมพ์ */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    
    /* ปรับ z-index เพื่อให้ input field อยู่ด้านบนสุด */
    z-index: 1000;
    position: relative;
  }
}

/* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์สำหรับ input ที่มี disabled state */
input[disabled],
textarea[disabled],
select[disabled] {
  /* ปรับ appearance ของ disabled input */
  opacity: 0.6;
  cursor: not-allowed;
  background-color: #f3f4f6;
  
  /* ป้องกันการ focus และ touch */
  pointer-events: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* แก้ไขปัญหาการไม่ขึ้นแป้นพิมพ์สำหรับ input ที่มี readonly state */
input[readonly],
textarea[readonly] {
  /* ปรับ appearance ของ readonly input */
  background-color: #f9fafb;
  cursor: default;
  
  /* อนุญาตให้ focus ได้แต่ไม่ให้แก้ไข */
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}
